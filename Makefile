
TARGET = shotwell

# This takes care of a warning message generated by the use of Math.round in image_util.vala
VALAC_OPTS =--Xcc=-std=c99 -g --enable-checking

SRC_FILES = \
	main.vala \
	AppWindow.vala \
	CollectionPage.vala \
	Thumbnail.vala \
	DatabaseTables.vala \
	ThumbnailCache.vala \
	image_util.vala \
	CollectionLayout.vala \
	PhotoPage.vala \
	Exif.vala \
	Page.vala \
	ImportPage.vala \
	GPhoto.vala
	
VAPI_FILES = \
	libexif.vapi \
	fstream.vapi \
	libgphoto2.vapi

RESOURCE_FILES = \
	photo.ui \
	collection.ui \
	import.ui
    
VAPI_DIRS = \
	.

HEADER_DIRS =

PKGS = \
	gtk+-2.0 \
	sqlite3 \
	vala-1.0 \
	libexif \
	fstream \
	libgphoto2 \
	hal \
	dbus-glib-1

all: $(TARGET)

clean:
	rm -f $(TARGET)

$(TARGET): $(SRC_FILES) $(VAPI_FILES) Makefile
	valac $(VALAC_OPTS) \
	$(foreach pkg,$(PKGS),--pkg=$(pkg)) \
	$(foreach vapidir,$(VAPI_DIRS), --vapidir=$(vapidir)) \
	$(foreach hdir,$(HEADER_DIRS),-X -I$(hdir)) \
	$(SRC_FILES) \
	-o $(TARGET)

